{"mappings":"oeACA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAUC,SAASC,cAAc,SAyCvC,SAASC,EAAcC,EAAUC,GAC/B,OAAO,IAAIC,SAAQ,CAACC,EAASC,KAC3B,MAAMC,EAAgBC,KAAKC,SAAW,GAEtCC,YAAW,KACLH,EACFF,EACET,EAAAe,OAAOC,QAAQ,qBAAqBV,QAAeC,QAIrDG,EACEV,EAAAe,OAAOE,QAAQ,oBAAoBX,QAAeC,OAEnD,GAEFA,EAAM,IAERW,MAAK,KACJC,QAAQC,IAAI,uBAAqBd,QAAiBC,MAAU,IAE7Dc,OAAM,KACLF,QAAQC,IAAI,sBAAoBd,QAAeC,MAAU,G,CA9D/DY,QAAQC,IAAIlB,GAEZA,EAAQoB,iBAAiB,UAEzB,SAAwBC,GACtBA,EAAIC,iBAEJ,IAAIlB,EAAW,EACXC,EAAQkB,OAAOF,EAAIG,cAAcC,SAASpB,MAAMqB,OACpDT,QAAQC,IAAI,gBAAiBb,GAE7B,IAAIsB,EAAOJ,OAAOF,EAAIG,cAAcC,SAASE,KAAKD,OAClDT,QAAQC,IAAI,eAAgBS,GAE5B,IAAIC,EAASL,OAAOF,EAAIG,cAAcC,SAASG,OAAOF,OACtDT,QAAQC,IAAI,iBAAkBU,GAE9BvB,GAASsB,EAET,IAAK,IAAIE,EAAI,EAAGA,GAAKD,EAAQC,GAAK,EAChCzB,GAAY,EAEZC,GAAgBsB,EAEhBV,QAAQC,IAAI,eAAgBd,GAC5Ba,QAAQC,IAAI,YAAab,GAEzBF,EAAcC,EAAUC,GAIwCA,EAA1D,EACRuB,EAAS,EACTD,EAAO,EACPvB,EAAW,EACXiB,EAAIG,cAAcC,SAASpB,MAAMqB,MAAQ,GACzCL,EAAIG,cAAcC,SAASE,KAAKD,MAAQ,GACxCL,EAAIG,cAAcC,SAASG,OAAOF,MAAQ,E","sources":["src/js/03-promises.js"],"sourcesContent":["// Инициализация библиотеки значков Notiflix + npm i notiflix\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst formRef = document.querySelector('.form');\nconsole.log(formRef);\n\nformRef.addEventListener('submit', onBeginPromise);\n\nfunction onBeginPromise(evt) {\n  evt.preventDefault();\n\n  let position = 0;\n  let delay = Number(evt.currentTarget.elements.delay.value);\n  console.log('delay in Form', delay);\n\n  let step = Number(evt.currentTarget.elements.step.value);\n  console.log('step in Form', step);\n\n  let amount = Number(evt.currentTarget.elements.amount.value);\n  console.log('amount in Form', amount);\n\n  delay -= step;\n\n  for (let i = 1; i <= amount; i += 1) {\n    position += 1;\n\n    delay = delay + step;\n\n    console.log('position [i]', position);\n    console.log('delay [i]', delay);\n\n    createPromise(position, delay);\n  }\n\n  // Обновление функции и внешних параметров в инпутах для поторного цикла работы\n  delay = 0;\n  amount = 0;\n  step = 0;\n  position = 0;\n  evt.currentTarget.elements.delay.value = '';\n  evt.currentTarget.elements.step.value = '';\n  evt.currentTarget.elements.amount.value = '';\n}\n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n\n    setTimeout(() => {\n      if (shouldResolve) {\n        resolve(\n          Notify.success(`Fulfilled promise ${position} in ${delay}ms`)\n          // console.log(`✅ Fulfilled promise ${position} in ${delay}ms`)\n        );\n      } else {\n        reject(\n          Notify.failure(`Rejected promise ${position} in ${delay}ms`)\n          // console.log(`❌ Rejected promise ${position} in ${delay}ms`)\n        );\n      }\n    }, delay);\n  })\n    .then(() => {\n      console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n    })\n    .catch(() => {\n      console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n    });\n}\n"],"names":["$iQIUW","parcelRequire","$47d4ff9957288465$var$formRef","document","querySelector","$47d4ff9957288465$var$createPromise","position","delay","Promise","resolve","reject","shouldResolve","Math","random","setTimeout","Notify","success","failure","then","console","log","catch","addEventListener","evt","preventDefault","Number","currentTarget","elements","value","step","amount","i"],"version":3,"file":"03-promises.776b2201.js.map"}